!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports["@testfactory/core"]=a():e["@testfactory/core"]=a()}(self,(()=>(()=>{"use strict";var e={d:(a,o)=>{for(var n in o)e.o(o,n)&&!e.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:o[n]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};e.r(a),e.d(a,{checkWording:()=>y,consoles:()=>r,defaultOptions:()=>c,editDistance:()=>g,elementGetter:()=>u,injectTooltip:()=>p,levenshteinDistance:()=>i,matchTargetToSource:()=>m,notStrings:()=>l,rangeSimilarity:()=>f,similarity:()=>d,styleToString:()=>t,targetText:()=>s});const o={BH:{countryNameEn:"Bahrain",countryNameLocal:"Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†",countryCode:"BH",currencyCode:"BHD",currencyNameEn:"Bahraini dinar",tinType:"",tinName:"",officialLanguageCode:"ar",officialLanguageNameEn:"Arabic",officialLanguageNameLocal:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",countryCallingCode:"973",areaCodes:[],region:"Arab States",flag:"ðŸ‡§ðŸ‡­"},DE:{countryNameEn:"Germany",countryNameLocal:"Deutschland",countryCode:"DE",currencyCode:"EUR",currencyNameEn:"Euro",tinType:"USt-IdNr.",tinName:"Umsatzsteuer-Identifikationsnummer",officialLanguageCode:"de",officialLanguageNameEn:"German",officialLanguageNameLocal:"Deutsch",countryCallingCode:"49",areaCodes:[],region:"Europe",flag:"ðŸ‡©ðŸ‡ª"},DK:{countryNameEn:"Denmark",countryNameLocal:"Danmark",countryCode:"DK",currencyCode:"DKK",currencyNameEn:"Danish krone",tinType:"CVR",tinName:"Momsregistreringsnummer",officialLanguageCode:"da",officialLanguageNameEn:"Danish",officialLanguageNameLocal:"dansk",countryCallingCode:"45",areaCodes:[],region:"Europe",flag:"ðŸ‡©ðŸ‡°"},ES:{countryNameEn:"Spain",countryNameLocal:"EspaÃ±a",countryCode:"ES",currencyCode:"EUR",currencyNameEn:"Euro",tinType:"NIF (CIF)",tinName:"NÃºmero de IdentificaciÃ³n Fiscal (formerly named CÃ³digo de IdentificaciÃ³n Fiscal)",officialLanguageCode:"es",officialLanguageNameEn:"Spanish, Castilian",officialLanguageNameLocal:"EspaÃ±ol",countryCallingCode:"34",areaCodes:[],region:"Europe",flag:"ðŸ‡ªðŸ‡¸"},FR:{countryNameEn:"France",countryNameLocal:"France",countryCode:"FR",currencyCode:"EUR",currencyNameEn:"Euro",tinType:"nÂ° TVA",tinName:"NumÃ©ro d'identification Ã  la taxe sur la valeur ajoutÃ©e / NumÃ©ro de TVA intracommunautaire",officialLanguageCode:"fr",officialLanguageNameEn:"French",officialLanguageNameLocal:"FranÃ§ais",countryCallingCode:"33",areaCodes:[],region:"Europe",flag:"ðŸ‡«ðŸ‡·"},GR:{countryNameEn:"Greece",countryNameLocal:"Î•Î»Î»Î¬Î´Î±",countryCode:"GR",currencyCode:"EUR",currencyNameEn:"Euro",tinType:"",tinName:"",officialLanguageCode:"el",officialLanguageNameEn:"Greek, Modern (1453-)",officialLanguageNameLocal:"ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬",countryCallingCode:"30",areaCodes:[],region:"Europe",flag:"ðŸ‡¬ðŸ‡·"},IT:{countryNameEn:"Italy",countryNameLocal:"Italia",countryCode:"IT",currencyCode:"EUR",currencyNameEn:"Euro",tinType:"P.IVA",tinName:"Partita IVA(IVA = Imposta sul Valore Aggiunto)",officialLanguageCode:"it",officialLanguageNameEn:"Italian",officialLanguageNameLocal:"Italiano",countryCallingCode:"39",areaCodes:[],region:"Europe",flag:"ðŸ‡®ðŸ‡¹"},KW:{countryNameEn:"Kuwait",countryNameLocal:"Ø§Ù„ÙƒÙˆÙŠØª",countryCode:"KW",currencyCode:"KWD",currencyNameEn:"Kuwaiti dinar",tinType:"",tinName:"",officialLanguageCode:"ar",officialLanguageNameEn:"Arabic",officialLanguageNameLocal:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",countryCallingCode:"965",areaCodes:[],region:"Arab States",flag:"ðŸ‡°ðŸ‡¼"},OM:{countryNameEn:"Oman",countryNameLocal:"Ø³Ù„Ø·Ù†Ø© Ø¹ÙÙ…Ø§Ù†",countryCode:"OM",currencyCode:"OMR",currencyNameEn:"Omani rial",tinType:"",tinName:"",officialLanguageCode:"ar",officialLanguageNameEn:"Arabic",officialLanguageNameLocal:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",countryCallingCode:"968",areaCodes:[],region:"Arab States",flag:"ðŸ‡´ðŸ‡²"},PL:{countryNameEn:"Poland",countryNameLocal:"Polska",countryCode:"PL",currencyCode:"PLN",currencyNameEn:"Polish zÅ‚oty",tinType:"NIP",tinName:"numer identyfikacji podatkowej",officialLanguageCode:"pl",officialLanguageNameEn:"Polish",officialLanguageNameLocal:"jÄ™zyk polski, polszczyzna",countryCallingCode:"48",areaCodes:[],region:"Europe",flag:"ðŸ‡µðŸ‡±"},PT:{countryNameEn:"Portugal",countryNameLocal:"Portugal",countryCode:"PT",currencyCode:"EUR",currencyNameEn:"Euro",tinType:"NIPC",tinName:"NÃºmero de IdentificaÃ§Ã£o de Pessoa Coletiva (NIPC)",officialLanguageCode:"pt",officialLanguageNameEn:"Portuguese",officialLanguageNameLocal:"PortuguÃªs",countryCallingCode:"351",areaCodes:[],region:"Europe",flag:"ðŸ‡µðŸ‡¹"},QA:{countryNameEn:"Qatar",countryNameLocal:"Ù‚Ø·Ø±",countryCode:"QA",currencyCode:"QAR",currencyNameEn:"Qatari riyal",tinType:"",tinName:"",officialLanguageCode:"ar",officialLanguageNameEn:"Arabic",officialLanguageNameLocal:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",countryCallingCode:"974",areaCodes:[],region:"Arab States",flag:"ðŸ‡¶ðŸ‡¦"},RO:{countryNameEn:"Romania",countryNameLocal:"RomÃ¢nia",countryCode:"RO",currencyCode:"RON",currencyNameEn:"Romanian leu",tinType:"CIF",tinName:"Codul de identificare fiscalÄƒ",officialLanguageCode:"ro",officialLanguageNameEn:"Romanian, Moldavian, Moldovan",officialLanguageNameLocal:"RomÃ¢nÄƒ",countryCallingCode:"40",areaCodes:[],region:"Europe",flag:"ðŸ‡·ðŸ‡´"},SA:{countryNameEn:"Saudi Arabia",countryNameLocal:"Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",countryCode:"SA",currencyCode:"SAR",currencyNameEn:"Saudi riyal",tinType:"",tinName:"",officialLanguageCode:"ar",officialLanguageNameEn:"Arabic",officialLanguageNameLocal:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",countryCallingCode:"966",areaCodes:[],region:"Arab States",flag:"ðŸ‡¸ðŸ‡¦"},SE:{countryNameEn:"Sweden",countryNameLocal:"Sverige",countryCode:"SE",currencyCode:"SEK",currencyNameEn:"Swedish krona/kronor",tinType:"Momsnr.",tinName:"VAT-nummer",officialLanguageCode:"sv",officialLanguageNameEn:"Swedish",officialLanguageNameLocal:"Svenska",countryCallingCode:"46",areaCodes:[],region:"Europe",flag:"ðŸ‡¸ðŸ‡ª"},TR:{countryNameEn:"Turkey",countryNameLocal:"TÃ¼rkiye",countryCode:"TR",currencyCode:"TRY",currencyNameEn:"Turkish lira",tinType:"KDV",tinName:"Vergi Kimlik NumarasÄ±",officialLanguageCode:"tr",officialLanguageNameEn:"Turkish",officialLanguageNameLocal:"TÃ¼rkÃ§e",countryCallingCode:"90",areaCodes:[],region:"Europe",flag:"ðŸ‡¹ðŸ‡·"},AE:{countryNameEn:"United Arab Emirates",countryNameLocal:"Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠÙ‘Ø© Ø§Ù„Ù…ØªÙ‘Ø­Ø¯Ø©",countryCode:"AE",currencyCode:"AED",currencyNameEn:"United Arab Emirates dirham",tinType:"",tinName:"",officialLanguageCode:"ar",officialLanguageNameEn:"Arabic",officialLanguageNameLocal:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",countryCallingCode:"971",areaCodes:[],region:"Arab States",flag:"ðŸ‡¦ðŸ‡ª"},CZ:{countryNameEn:"Czechia",countryNameLocal:"ÄŒeskÃ¡ republika",countryCode:"CZ",currencyCode:"CZK",currencyNameEn:"Czech koruna",tinType:"DIÄŒ",tinName:"DaÅˆovÃ© identifikaÄnÃ­ ÄÃ­slo",officialLanguageCode:"cs",officialLanguageNameEn:"Czech",officialLanguageNameLocal:"ÄŒeÅ¡tina",countryCallingCode:"420",areaCodes:[],region:"Europe",flag:"ðŸ‡¨ðŸ‡¿"}},n={groupSuccess:{fontfamily:"euclid_circular_a",display:"inline-block",fontWeight:"bold",padding:"3px 7px 3px 7px",borderRadius:"3px 3px 3px 3px"},groupError:{fontfamily:"euclid_circular_a",display:"inline-block",fontWeight:"bold",padding:"3px 5px 3px 5px",borderRadius:"3px 3px 3px 3px"},success:{fontfamily:"euclid_circular_a",display:"inline-block",fontWeight:"bold",padding:"3px 7px 3px 7px",borderRadius:"3px 3px 3px 3px",borderColor:"black"},error:{fontfamily:"euclid_circular_a",display:"inline-block",fontWeight:"bold",padding:"3px 5px 3px 5px",borderRadius:"3px 3px 3px 3px",borderColor:"black"},tooltips_stringMatching:{display:"none",fontfamily:"euclid_circular_a",fontWeight:"bold",padding:"3px 5px 3px 5px",borderRadius:"5px",color:"#ffffffcc",backgroundColor:"#aaaaaacc"}},r={groupSuccess:(e,a)=>console.groupCollapsed(`%c ${e}`,t("groupSuccess",a)),groupError:(e,a)=>console.groupCollapsed(`%c ${e}`,t("groupError",a)),success:(e,a)=>console.log(`%c ${e}`,t("success",a)),error:(e,a)=>console.log(`%c ${e}`,t("error",a)),clear:e=>{e&&window.clear()}};function t(e,a){const o={...c,...a};switch(e){case"error":o.console.hasBackground?(n[e].color="#ffffffcc",n[e].backgroundColor="#e0005acc"):(n[e].color="#e0005acc",n[e].backgroundColor="transparent");break;case"success":o.console.hasBackground?(n[e].color="#ffffffcc",n[e].backgroundColor="#5c9037cc"):(n[e].color="#5c9037cc",n[e].backgroundColor="transparent");break;case"groupError":o.console.hasBackground?(n[e].color="#ffffffcc",n[e].backgroundColor="#e5165acc"):(n[e].color="#e5165acc",n[e].backgroundColor="transparent");break;case"groupSuccess":o.console.hasBackground?(n[e].color="#ffffffcc",n[e].backgroundColor="#00aa00b3"):(n[e].color="#00aa00b3",n[e].backgroundColor="transparent")}return Object.keys(n[e]).reduce(((a,o)=>a+o.split(/(?=[A-Z])/).join("-").toLowerCase()+":"+n[e][o]+";"),"")}function i(e,a){const o=Array(a.length+1).fill(null).map((()=>Array(e.length+1).fill(null)));for(let a=0;a<=e.length;a+=1)o[0][a]=a;for(let e=0;e<=a.length;e+=1)o[e][0]=e;for(let n=1;n<=a.length;n+=1)for(let r=1;r<=e.length;r+=1){const t=e[r-1]===a[n-1]?0:1;o[n][r]=Math.min(o[n][r-1]+1,o[n-1][r]+1,o[n-1][r-1]+t)}return o[a.length][e.length]}const c={elementIndex:0,similarityIndex:{upper:.6,lower:.3},console:{clearBefore:!0,hasBackground:!0}};function l(e){return!Array.isArray(e)||!e.length||!e.every((e=>"string"==typeof e||e instanceof String))}function u(e,a,o=c.elementIndex){if(null==e||null==a)return{error:!0,message:' âŒ "targetSelector" and "targetPath" must be provided'};let n;switch(e){case"id":n=document.getElementById(a);break;case"name":n=document.getElementsByName(a).item(o);break;case"class":n=document.getElementsByClassName(a).item(o);break;case"xpath":n=document.evaluate(a,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;break;default:return{error:!0,message:' âŒ Unsupported selector provided, please use either "Id", "Name", "ClassName" or "xPath"'}}return Array.isArray(n)&&0==n.length||null==n?{error:!0,message:` âŒ Element with the ${e}: "${a}" was not found !`}:{error:!1,data:n}}function s(e,a){const o=[],n=u(e,a);if(n.error)return n;let r;return n.error||null==n.data?{error:!0,message:" âŒ mhh ðŸ«¤, we can't determine the target element type, please try some other way !"}:(r=Array.isArray(n.data)?n.data[0].nodeName:n.data.nodeName,"SELECT"===r?Array.from(n.data.options).forEach((e=>o.push(e.label))):o.push(n.data.innerText),{error:!1,data:o})}function g(e,a){const o=[];for(let n=0;n<=e.length;n++){let r=n;for(let t=0;t<=a.length;t++)if(0==n)o[t]=t;else if(t>0){let i=o[t-1];e.charAt(n-1)!=a.charAt(t-1)&&(i=Math.min(Math.min(i,r),o[t])+1),o[t-1]=r,r=i}n>0&&(o[a.length]=r)}return o[a.length]}function d(e="",a=""){null==a&&(a=""),null==e&&(e="");const o=[e,a].sort((function(e,a){return a.length-e.length}));return 0==o[0].length?1:(o[0].length-g(o[0],o[1]))/o[0].length}function f(e,a,o,n){const r=[];for(let t=o-n;t<=o+n;++t)r.push(d(e,a[t]));return r}function m(e,a){const o=a.map((a=>d(a,e)));return o.indexOf(Math.max.apply(null,o))}function y(e,a,n={},t){const i={...c,...t};let u;r.clear(i.console.clearBefore);const g=document.getElementsByTagName("html").item(0)?.getAttribute("lang");if(null==g||null==g)return{error:!0,message:" âŒ The page language was not detected !"};u=g;const d={similar:0,someWhatSimilar:0,notSimilar:0,positionWarnning:0,missing:0},y=s(e,a);if(y.error)return y;switch(!0){case null==n[u]:return{error:!0,message:" âŒ Test data for the current locale was not found !"};case Object.values(i.similarityIndex).some((e=>"number"!=typeof e))||Object.values(i.similarityIndex).some((e=>e<0||e>1)):return{error:!0,message:" âŒ similarity indexes (upper & lower) must be a number, between 0 and 1 !"};case l(n[u]):return{error:!0,message:` âŒ Test data for ${o[u.toUpperCase()].countryNameEn} ${o[u.toUpperCase()].flag} have values that are not String !`};case l(y.data):return{error:!0,message:" âŒ The target element doesnt containe ONLY strings"}}const C=y.data[0].split(" "),N=n[u][m(y.data[0],n[u])].split(" "),h=[],E=[],L=Math.abs(N.length-C.length),b=C.map(((e,a)=>[e,f(e,N,a,L)])),x=N.map(((e,a)=>[e,f(e,C,a,L)]));if(L>0){let e=[];x.map(((e,a)=>e[1].every((e=>e<i.similarityIndex.upper))&&{index:a,data:[e[0],e[1].fill(0)]})).forEach((a=>{a&&e.push(a)})),e.length>L&&(e.sort((function(e,a){return Math.max(...e.data[1])-Math.max(...a.data[1])})),e=e.slice(0,L)),e.forEach((e=>b.splice(e.index,0,e.data)))}for(let e=0;e<b.length;++e)switch(!0){case 1==b[e][1][L]:h.push("color: green"),E.push({text:b[e][0],status:0}),d.similar+=1;break;case b[e][1].some((e=>e<1&&e>=i.similarityIndex.upper)):E.push({text:b[e][0],status:2}),h.push("color:white; background: red; font-style: italic; text-decoration: underline"),d.someWhatSimilar+=1;break;case b[e][1].some((e=>e>=i.similarityIndex.upper)):const a=b[e][1].indexOf(Math.max(...b[e][1]))>Math.floor(b[e][1].length/2)?"<-":"->";h.push("color: orange;"),E.push({text:`${a}${b[e][0]}`,status:3}),d.positionWarnning+=1;break;case b[e][1].every((e=>e<i.similarityIndex.lower)):h.push("color: red; background: gray; font-style: italic; text-decoration: underline"),E.push({text:`[${b[e][0]}]`,status:4}),d.missing+=1;break;default:h.push("color: white; background: red; font-style: italic; text-decoration: line-through"),E.push({text:b[e][0],status:1}),d.notSimilar+=1}return p("string-matching",e,a,E),console.info(E.map((e=>`%c${e.text}`)).join(" "),...h),console.table(d),`âœ… All Done, see stats above for ${o[u.toUpperCase()].countryNameEn} ${o[u.toUpperCase()].flag}`}function p(e,a,o,n){const r=u(a,o);if(r.error)return r;const t=r.data.parentElement;if(null==t)return{error:!0,message:" âŒ the target's parent element can't be 'NULL' !"};const i={0:"word-similar",1:"word-not-similar",2:"word-some-what-similar",3:"word-position-warning",4:"word-missing"},c=document.createElement("div");let l;c.setAttribute("id",`tf-tooltip-${e}`),c.className="tf-tooltip",n.forEach(((e,a)=>{l=document.createElement("span"),l.setAttribute("index",`${a}`),l.textContent=e.text,l.className=i[e.status],c.appendChild(l)})),t.classList.add("tf-tooltip-parent"),t.appendChild(c)}return a})()));